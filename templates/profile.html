{% extends "base.html" %}
{% block content %}
<h2>Your Career Profile</h2>

{% if profile.error %}
  <p>{{ profile.error }}</p>
{% else %}
<div class="user-info-header">
  <h3>{{ profile.user.name }}</h3>
  <p>{{ profile.user.email }}</p>
</div>

<div class="section">
  <h3><i class="fa-solid fa-graduation-cap"></i> Education</h3>
  {% if profile.education %}
    {% for edu in profile.education %}
      <div class="card">
        <h4>{{ edu.degree }}</h4>
        <p>{{ edu.university }}</p>
        <p class="date">{{ edu.start_date }} — {{ edu.end_date }}</p>
        {% if edu.cgpa %}<p><strong>CGPA:</strong> {{ edu.cgpa }}</p>{% endif %}
      </div>
    {% endfor %}
  {% else %}
    <p class="empty">No education added yet.</p>
  {% endif %}
</div>

<div class="section">
  <h3><i class="fa-solid fa-award"></i> Certifications</h3>
  {% if profile.certifications %}
    {% for cert in profile.certifications %}
      <div class="card">
        <h4>{{ cert.name }}</h4>
        <p>{{ cert.organization }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p class="empty">No certifications added yet.</p>
  {% endif %}
</div>

<div class="section">
  <h3><i class="fa-solid fa-briefcase"></i> Experience</h3>
  {% if profile.experience %}
    {% for exp in profile.experience %}
      <div class="card">
        <h4>{{ exp.title }}</h4>
        <p><strong>{{ exp.company }}</strong> — {{ exp.location }}</p>
        <p class="date">{{ exp.start_date }} — {{ exp.end_date }}</p>
        <p>{{ exp.description }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p class="empty">No experience added yet.</p>
  {% endif %}
</div>

<div class="section">
  <h3><i class="fa-solid fa-folder-open"></i> Projects</h3>
  {% if profile.projects %}
    {% for proj in profile.projects %}
      <div class="card">
        <h4>{{ proj.name }}</h4>
        <p class="date">{{ proj.start_date }} — {{ proj.end_date }}</p>
        <p>{{ proj.description }}</p>
      </div>
    {% endfor %}
  {% else %}
    <p class="empty">No projects added yet.</p>
  {% endif %}
</div>

<div class="section">
  <h3><i class="fa-solid fa-code"></i> Skills</h3>
  {% if profile.skills %}
    <div class="skills-list">
      {% for skill in profile.skills %}
        <span class="skill">{{ skill }}</span>
      {% endfor %}
    </div>
  {% else %}
    <p class="empty">No skills added yet.</p>
  {% endif %}
</div>

<div class="center-btn">
  <a href="{{ url_for('add_profile_page') }}" class="btn"><i class="fa-solid fa-plus"></i> Add More Details</a>
</div>
{% endif %}
{% endblock %}
